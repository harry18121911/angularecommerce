<br />
<div>
  <div>
    <strong>All User List 0</strong>
  </div>
  <div>
    <button
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
      (click)="addUserPopup();toggleVisibility()"
    >
      ADD USER BUTTON
    </button>
  </div>
</div>

<div class="relative overflow-x-auto">
  <table
    class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"
  >
    <thead
      class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
    >
      <tr>
        <th scope="col" class="px-6 py-3">#</th>
        <th scope="col" class="px-6 py-3">Name</th>
        <th scope="col" class="px-6 py-3">Mob</th>
        <th scope="col" class="px-6 py-3">Email</th>
        <th scope="col" class="px-6 py-3">DOB</th>
        <th scope="col" class="px-6 py-3">City</th>
        <th scope="col" class="px-6 py-3">Role</th>
        <th scope="col" class="px-6 py-3">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let user_data of all_user_data; let i = index"
        class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200"
      >
        <th scope="row">{{ i + 1 }}</th>
        <td>{{ user_data.name }}</td>
        <td>{{ user_data.number }}</td>
        <td>{{ user_data.email }}</td>
        <td>{{ user_data.dateOfBirth }}</td>
        <td>{{ user_data.address }}</td>
        <td>{{ user_data.role }}</td>
        <td>
          <h1 (click)="editUserPopout(user_data.id); toggleVisibility()">
            Edit User {{ user_data.id }}
          </h1>
          <h1 (click)="deleteUser(user_data.id)">Delete User</h1>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="bg-gray-400" *ngIf="isVisible$ |async">
  <form
    [formGroup]="addEditUserForm"
    class=""
    action="#"
    method="POST"
  >
    <div class="space-y-6 space-x-3 flex flex-wrap">
    <div>
      <label for="name" class="block text-sm/6 font-medium text-gray-900"
        >Name</label
      >
      <div class="mt-2">
        <input
          type="text"
          name="name"
          id="name"
          autocomplete="Name"
          required
          class="block w-86 rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"
        />
      </div>
    </div>

    <div>
      <label for="email" class="block text-sm/6 font-medium text-gray-900"
        >Email address</label
      >
      <div class="mt-2">
        <input
          type="email"
          name="email"
          id="email"
          autocomplete="Email"
          required
          class="block w-86 rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"
        />
      </div>
    </div>

    <div>
      <label for="number" class="block text-sm/6 font-medium text-gray-900"
        >Number</label
      >
      <div class="mt-2">
        <input
          type="number"
          name="number"
          id="number"
          autocomplete="Number"
          required
          class="block w-86 rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"
        />
      </div>
    </div>

    <div>
      <label for="age" class="block text-sm/6 font-medium text-gray-900"
        >Age</label
      >
      <div class="mt-2">
        <input
          type="text"
          name="age"
          id="age"
          autocomplete="Age"
          required
          class="block w-86 rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"
        />
      </div>
    </div>
    <div>
      <label for="address" class="block text-sm/6 font-medium text-gray-900"
        >Address</label
      >
      <div class="mt-2">
        <input
          type="text"
          name="address"
          id="address"
          autocomplete="Address"
          required
          class="block w-86 rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"
        />
      </div>
    </div>
      <div class="block w-86 h-9 mt-8 rounded-md bg-red-600 text-center text-gray-900   placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6 ">
        <button class="mt-1" (click)="addUser()" *ngIf="add_user">Register</button>
        <button class="mt-1" (click)="updateUser(user_dto.id)" *ngIf="edit_user">Update
        </button>
      </div>
    </div>
  </form>
</div>

